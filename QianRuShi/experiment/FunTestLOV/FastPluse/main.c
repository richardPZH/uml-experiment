#include<REG52.H>

#if 0
/* Dan Pian Ji is relative simple we can estimate the time it execute a program. Because it's simgle process 
 * we can read the assemble output generated by the C compiler. And every instruction has a relative time associate to it.
 * 100 interview question By Google?
 * Zhang Wei Ying
 * A 12MHz C52 only can output about 3us puse?? using the while( 1 ) circle
 *
*/
sbit outPut = P3^0;

int main( void )
{
	outPut = 1;
	while( 1 )
	{
		outPut = ~outPut;
	}	

	return 0;
}
#endif

#if 1
/* use the interrupt service to generate pluse 
 * timer 0 is engaged and than generate 1us interrup width pluse is?
 *
*/

sbit outPut = P3^0;

void setTimer0_1us( void );

int main( void )
{
	setTimer0_1us();

	ET0 = 1;
	EA = 1;
	while( 1 );

	return 0;
}

void setTimer0_1us( void )
{
	//set to mode 2 and 1us
	TMOD = 0x02;
	TH0 = TL0 = 256 - 1;
	
	TR0 = 1;
}

//interrupt service
void timer0_interrupt ( void ) interrupt 1
{
	outPut = ~outPut;
}


#endif

